<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
      name="viewport"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="ADE Scheduler for UCLouvain students" />
    <title>ADE Scheduler</title>

    <!-- Google Search Console verification -->
    <meta
      name="google-site-verification"
      content="R5EJiPKUaLPb6QfpmNjgNhaH7NHKamQW9aJH0eCr7a0"
    />

    <!-- Favicon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}"
    />
    <link
      rel="manifest"
      href="{{ url_for('static', filename='favicon/site.webmanifest') }}"
    />
    <link
      rel="mask-icon"
      href="{{ url_for('static', filename='favicon/safari-pinned-tab.svg') }}"
      color="#5bbad5"
    />
    <link
      rel="shortcut icon"
      href="{{ url_for('static', filename='favicon/favicon.ico') }}"
    />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta
      name="msapplication-config"
      content="{{ url_for('static', filename='favicon/browserconfig.xml') }}"
    />
    <meta name="theme-color" content="#ffffff" />

    <!-- JSGlue -->
    <script
      type="text/javascript"
      src="{{ url_for('static', filename='dist/jsglue.min.js')|autoversion }}"
    ></script>

    {%block head%}{%endblock%}
  </head>

  <body class="bg-light">
    <div class="modal fade" id="createAccountModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              {{_('You need to login with your UCLouvain account to access this
              page')}}
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <h6>{{ _('Do not hesitate to login... you can:') }}</h6>
            <ul class="list-group list-group-flush mb-3">
              <li class="list-group-item">
                <svg
                  width="1em"
                  height="1em"
                  viewBox="0 0 16 16"
                  class="bi bi-check2-square text-success me-2"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M1.5 13A1.5 1.5 0 0 0 3 14.5h10a1.5 1.5 0 0 0 1.5-1.5V8a.5.5 0 0 0-1 0v5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 3v10z"
                  />
                </svg>
                {{ _('Save your schedules') }}
              </li>
              <li class="list-group-item">
                <svg
                  width="1em"
                  height="1em"
                  viewBox="0 0 16 16"
                  class="bi bi-check2-square text-success me-2"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M1.5 13A1.5 1.5 0 0 0 3 14.5h10a1.5 1.5 0 0 0 1.5-1.5V8a.5.5 0 0 0-1 0v5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 3v10z"
                  />
                </svg>
                {{ _('Manage several schedules following your needs') }}
              </li>
              <li class="list-group-item">
                <svg
                  width="1em"
                  height="1em"
                  viewBox="0 0 16 16"
                  class="bi bi-check2-square text-success me-2"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M1.5 13A1.5 1.5 0 0 0 3 14.5h10a1.5 1.5 0 0 0 1.5-1.5V8a.5.5 0 0 0-1 0v5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 3v10z"
                  />
                </svg>
                {{ _('Rename your schedules') }}
              </li>
              <li class="list-group-item">
                <svg
                  width="1em"
                  height="1em"
                  viewBox="0 0 16 16"
                  class="bi bi-check2-square text-success me-2"
                  fill="currentColor"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    d="M15.354 2.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L8 9.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M1.5 13A1.5 1.5 0 0 0 3 14.5h10a1.5 1.5 0 0 0 1.5-1.5V8a.5.5 0 0 0-1 0v5a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 3v10z"
                  />
                </svg>
                {{ _('And so much more!') }}
              </li>
            </ul>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              {{ _('Close') }}
            </button>
            <button
              type="button"
              class="btn btn-success"
              data-bs-dismiss="modal"
              onclick="window.location.href='{{ url_for('security.login') }}'"
            >
              {{ _('Login') }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="app-base">
      <!-- Main navbar -->
      <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark px-2">
        <a class="navbar-brand me-auto mx-lg-3" href="/"> ADE Scheduler </a>
        <button
          class="navbar-toggler p-0 border-0"
          type="button"
          data-bs-toggle="offcanvas"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse offcanvas-collapse">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('calendar.index') }}'}"
                href="{{ url_for('calendar.index') }}"
                >{{_('Calendar')}}</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('classroom.index') }}'}"
                href="{{ url_for('classroom.index') }}"
                >{{_('Classrooms')}}</a
              >
            </li>
            <li class="nav-item">
              {% if current_user.is_authenticated %}
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('account.index') }}'}"
                href="{{ url_for('account.index') }}"
                >{{_('Account')}}</a
              >
              {% else %}
              <a
                class="nav-link"
                href="#"
                data-bs-target="#createAccountModal"
                data-bs-toggle="modal"
                >{{_('Account')}}</a
              >
              {% endif %}
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('help.index') }}'}"
                href="{{ url_for('help.index') }}"
                >{{_('Help')}}</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('contact.index') }}'}"
                href="{{ url_for('contact.index') }}"
                >{{_('Contact us')}}</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('contribute.index') }}'}"
                href="{{ url_for('contribute.index') }}"
                >{{_('Contribute')}}</a
              >
            </li>
            {% if current_user.has_role("admin") %}
            <li class="nav-item">
              <a
                class="nav-link"
                v-bind:class="{'active-page': currentPath === '{{ url_for('admin.index') }}'}"
                href="{{ url_for('admin.index') }}"
                >Admin</a
              >
            </li>
            {% endif %}
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle d-flex align-items-center"
                href="#"
                data-bs-toggle="dropdown"
                id="current-locale"
              >
                <svg
                  class="me-1"
                  width="14px"
                  height="14px"
                  viewBox="0 0 16 16"
                  class="bi bi-globe"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M1.018 7.5h2.49c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5zM2.255 4H4.09a9.266 9.266 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.024 7.024 0 0 0 2.255 4zM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm-.5 1.077c-.67.204-1.335.82-1.887 1.855-.173.324-.33.682-.468 1.068H7.5V1.077zM7.5 5H4.847a12.5 12.5 0 0 0-.338 2.5H7.5V5zm1 2.5V5h2.653c.187.765.306 1.608.338 2.5H8.5zm-1 1H4.51a12.5 12.5 0 0 0 .337 2.5H7.5V8.5zm1 2.5V8.5h2.99a12.495 12.495 0 0 1-.337 2.5H8.5zm-1 1H5.145c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12zm-2.173 2.472a6.695 6.695 0 0 1-.597-.933A9.267 9.267 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM1.674 11H3.82a13.651 13.651 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5zm8.999 3.472A7.024 7.024 0 0 0 13.745 12h-1.834a9.278 9.278 0 0 1-.641 1.539 6.688 6.688 0 0 1-.597.933zM10.855 12H8.5v2.923c.67-.204 1.335-.82 1.887-1.855A7.98 7.98 0 0 0 10.855 12zm1.325-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm.312-3.5h2.49a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5zM11.91 4a9.277 9.277 0 0 0-.64-1.539 6.692 6.692 0 0 0-.597-.933A7.024 7.024 0 0 1 13.745 4h-1.834zm-1.055 0H8.5V1.077c.67.204 1.335.82 1.887 1.855.173.324.33.682.468 1.068z"
                  />
                </svg>
                {{ get_locale()|upper }}
              </a>
              <ul
                class="dropdown-menu"
                style="min-width: 70px; max-width: 70px"
              >
                <li>
                  <a
                    class="dropdown-item d-flex justify-content-center"
                    href="#"
                    v-on:click="localeSelector($event, 'en')"
                    >EN</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item d-flex justify-content-center"
                    href="#"
                    v-on:click="localeSelector($event, 'fr')"
                    >FR</a
                  >
                </li>
              </ul>
            </li>
          </ul>
          {% if current_user.is_authenticated %}
          <div class="text-danger user-logged-in">
            <label class="text-center mx-3">
              {{ current_user.first_name }} {{ current_user.last_name }}
            </label>
            <button
              class="btn btn-outline-danger btn-sm"
              type="button"
              onclick="window.location.href='{{ url_for('security.logout') }}'"
            >
              {{_('Logout')}}
            </button>
          </div>
          {% else %}
          <div class="btn-group user-logged-out" style="min-width: 100px">
            <button
              class="btn btn-outline-light btn-sm w-50"
              type="button"
              onclick="window.location.href='{{ url_for('security.login') }}'"
            >
              {{_('Login')}}
            </button>
          </div>
          {% endif %}
        </div>
      </nav>
      <main role="main" id="app" v-pre>{% block body %}{% endblock %}</main>

      <!-- Display error/warning/else messages -->
      <div
        class="toast-container position-fixed bottom-0 end-0 p-3"
        style="z-index: 1111"
      >
        <AlertToast
          type="success"
          v-bind:message="successMessage"
          v-on:toast-hidden="successMessage = ''"
        ></AlertToast>
        <AlertToast
          type="warning"
          v-bind:message="warningMessage"
          v-on:toast-hidden="warningMessage = ''"
        ></AlertToast>
        <AlertToast
          type="danger"
          v-bind:message="errorMessage"
          v-on:toast-hidden="errorMessage = ''"
        ></AlertToast>
        <AlertToast
          type="primary"
          v-bind:message="infoMessage"
          v-on:toast-hidden="infoMessage = ''"
        ></AlertToast>
      </div>

      {% from "custom_macros.html" import render_flash_toast %} {{
      render_flash_toast() }}
    </div>
  </body>
</html>
